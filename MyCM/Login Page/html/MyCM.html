<!DOCTYPE html>
<html lang="en">
<head>
<title>Hermaneutics Login</title>
<meta charset="utf-8">

<link  
 

<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script src="underscore.js"></script>
   <script src="http://www.parsecdn.com/js/parse-1.5.0.min.js"></script>
    

    
</head>
<body>

<h2>Welcome to Hermaneutics</h2>
<div id="login-wrapper">
    <fieldset>
        <legend> Login Form </legend>
<!-- begin login form -->
<form name="loginForm" action="#" method="post">
    <table>
        <tr>
            <td><label for="login">Login:</td> 
            <td><input class="fixed-input-box" type="text" name="login" id="login" ></td>
        </tr>
        <tr>
            <td><label for="password">Password:</label></td> 
            <td><input type="password" name="password" id="password" class = "fixed-input-box"></td>
        </tr>
        <tr>
            <td><label for="fc">Favorite Color:</label></td> 
            <td><input type="text" name="fc" id="fc" class = "fixed-input-box"></td>
        </tr>
    </table>
     <div id="loginButtons"> 
         <table>
             <tr>
                 <td class="leftButton"><input type="button" name="submit" id="submit" value="Sign up" onclick="testLogin()" /></td>

                <td class="rightButton"><input type="reset" name="reset" id="reset" value="Log in" onclick="testDictionaries()"><br></td>
                 
                 <td ><input type="button" name="color" id="color" value="Show favorite color" /></td>
             </tr>
    </table>
    </div>


    </form>
        </fieldset>
    
</div>
<!-- end login form -->
    
<script type="text/javascript">
    alert("inside kayla's javascript");
  Parse.initialize("NsfMvu7XsR4RfN07yMdXFWMYANcZ7FNM30kyrUtX", "kRGe4QbRkRRTGBclafuncfOIYPOuhP1fYx9hgPLj");

    alert("made it past parse initialize");
    

    
//    var TestObject = Parse.Object.extend("TestObject");
//    var testObject = new TestObject();
//      testObject.save({foo: "bar"}, {
//      success: function(object) {
//        $(".success").show();
//      },
//      error: function(model, error) {
//        $(".error").show();
//      }
//    });
$(document).ready(function () {
    alert("document ready");
$("#submit").click(function () {
                alert("clicked button");
    //creates new Parse user to be saved to database 
    var user = new Parse.User();
    
    //grabs the information from our form 
    var username = $("#login").val();
    var password = $("#password").val();
    var favoriteColor = $("#fc").val(); 
    
    user.set("username", username.toString());
    user.set("password", password.toString());
    user.set("favoriteColor", favoriteColor.toString()); 
    //can add extra information to user
    user.set("website", "with-animations/index.html");
    //user.set("email", "email@example.com");
    
//call signup function to add user to database 
user.signUp(null, {
    
  success: function(user) {
    // Hooray! Let them use the app now.
      alert("signing user up"); 
      //user.login(); //sets Parse.User.currentUser() to be the user variable 
      
  },
  error: function(user, error) {
    // Show the error message somewhere and let the user try again.
    alert("Error: " + error.code + " " + error.message);
  }
    });//close user signup 
            }); //closes submit click function 
$("#reset").click(function (){
    alert ("clicked login button");
    var username = $("#login").val();
    var password = $("#password").val();
    var favoriteColor = $("#fc").val(); 
    Parse.User.logIn(username.toString(),  password.toString(), {
  success: function(user) {
    // Do stuff after successful login.
      alert("logged in");
  },
  error: function(user, error) {
    // The login failed. Check error to see why.
  }

        }); //closes the login function

    }); //closes the reset click
 $("#color").click(function (){
     alert("clicked show color");
     alert(Parse.User.current().get("favoriteColor"));
 });
  
});//closes document ready function 

  </script>

</body>
</html>